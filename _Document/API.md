# 接口文档

[TOC]

> 维护人员：Defjia
>
> 创建时间：2018-10-24

调用Back.BackEnd类，使用以下方法。

## 1. 初始化界面

在界面初始化时请求数据，显示数据在主界面。

### 请求方法名

init

### 请求参数

| 参数名 | 类型 | 必填 |  描述  | 默认值 | 参考值 |
| :----: | :--: | :--: | :----: | :----: | :----: |
|  type  | int  |  是  | 模式ID |   -    |   1    |

### 正确返回值

{

code: 0

data: {

​	'symptom': [],

​	'illness': [],

​	'anagraph': [],

​	'medicine': [],

​	}

}

### 错误返回值

{

code: 1,

error_message: 'The reason of error.'

}

## 2. 输入框实时查询

### 请求方法名

query

### 请求参数

| 参数名  | 类型 | 必填 |     描述      |     默认值     | 参考值 |
| :-----: | :--: | :--: | :-----------: | :------------: | :----: |
| box_id  | int  |  是  | 输入框ID(0-3) |       -        |   0    |
| content | str  |  否  |  输入框内容   | ''（空字符串） |  SYZ   |

### 正确返回值

{

code: 0,

data: []

}

### 错误返回值

{

code: 1,

error_message: 'The reason of error.'

}

## 3. 添加记录

录入模式下，添加记录；若当前位置不为空，则同时添加关系。

### 请求方法名

add_data

### 请求参数

|      参数名      | 类型  | 必填 |             描述             | 默认值 |     参考值     |
| :--------------: | :---: | :--: | :--------------------------: | :----: | :------------: |
|      box_id      |  int  |  是  |        输入框ID(0-3)         |   -    |       1        |
|     content      |  str  |  是  |          输入框内容          |   -    |    '少阳症'    |
| current_location | tuple |  否  | 当前位置（包含种类和相关ID） |  None  | ('illness', 2) |

### 正确返回值

{

code: 0

}

### 错误返回值

{

code: 1,

error_message: 'The reason of error.'

}

## 4. 显示相关信息

当选中某对象时，显示相邻的一个或两个关联对象。

### 请求方法名

get_relations

### 请求参数

| 参数名  | 类型 | 必填 |     描述     | 默认值 | 参考值 |
| :-----: | :--: | :--: | :----------: | :----: | :----: |
| box_id  | int  |  是  | 当前输入框ID |   -    |   0    |
| content | str  |  是  |  选中的对象  |   -    | '头疼' |

### 正确返回值

{

code: 0,

data: {

​	'medical': [],	

​	'illness': []

​	}

}

### 错误返回值

{

code: 1,

error_message: 'The reason of error.'

}

## 5. 查找匹配信息

检索模式下，在症状或药列表中添加一条或多条记录时，自动显示匹配的父对象

### 请求方法名

match_data

### 请求参数

|  参数名   | 类型 | 必填 |         描述         | 默认值 |      参考值      |
| :-------: | :--: | :--: | :------------------: | :----: | :--------------: |
|  box_id   | int  |  是  |  0 -> 症状、3 -> 药  |   -    |        0         |
| para_list | list |  是  | 列表中是所有相关条件 |   -    | ['头疼', '发热'] |

### 正确返回值

{

code: 0,

data: {

​	'illness': []

​	}

}

### 错误返回值

{

code: 1,

error_message: 'The reason of error.'

}



------

The end.